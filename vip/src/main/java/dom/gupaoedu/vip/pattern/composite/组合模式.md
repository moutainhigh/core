
#组合模式详解
组合模式也称为整体-部分模式,是将对象组合成树形结构以表示"部分-整体"的层次结构,使得用户对单个对象和组合对象的使用具有一致性,属于结构型模式。

##组合模式包含3个角色:
- 1、抽象根节点(Component ) :定义系统各层次对象的共有方法和属性,可以预先定义一些默认行为和属性；
- 2、树枝节点( Composite ) :定义树枝节点的行为,存储子节点,组合树枝节点和叶子节点形成一个树形结构;
- 3、叶子节点(Leaf ) :叶子节点对象,其下再无分支,是系统层次遍历的最小单位。

##应用场景:
- 1、希望客户端可以忽略组合对象与单个对象的差异时;
- 2、对象层次具备整体和部分,呈树形结构。

##组合模式的优缺点。
###优点:
- 1、清楚地定义分层次的复杂对象,表示对象的全部或部分层次
- 2、让客户端忽略了层次的差异,方便对整个层次结构进行控制
- 3、简化客户端代码
- 4、符合开闭原则
###缺点：
- 1、限制类型时会较为复杂
- ****2、使设计变得更加抽象

```
推荐使用安全组合模式
 ai.addChild(); 叶子节点能调用addChild方法，是透明的，但是不能调用，因为子类没有加重写，这就是透明的，所以出现了安全组合模式
``` 

##源码使用
- HashMap 中putAll方法就是组合模式
- ArrayList 中addAll方法就是组合模式